---
title: "Forelesning 5: Sannsynlighet"
subtitle: "Sok-2009 h24"
author: "Eirik Eriksen Heen & ChatGPT"
date: "`r format(Sys.Date(), '%d. %b %Y')`"
format: html
editor: visual
execute:
  echo: true
  warning: false
  message: false
  error: false
  freeze: auto
  code-overflow: wrap # Pakker kode som er for lang for linjen
---

```{r start, include = FALSE}
##### Start up #####
rm(list = ls()) # Empties all data

options(scipen=10) # writes 10 scipens before scientific script
options(digits=10) # writes up to 10 digits


# loading packages
library(tidyverse)
library(gt)
library(mosaic)
library(NHANES)

# Kode for a kunne bruke norske bokstaver
Sys.setlocale(locale="no_NO")

```

I dette kapitlet skal vi dykke dypere inn i sannsynlighetsregning, et fundamentalt aspekt av statistikk som hjelper oss √• forst√•, analysere og kvantifisere usikkerhet i ulike fenomener. Sannsynlighetsteori er ikke bare teoretisk viktig, den har praktisk anvendelse i alt fra finans og √∏konomi til ingeni√∏rfag og vitenskapelige unders√∏kelser. Vi vil utforske b√•de teoretiske konsepter og praktiske simuleringer, noe som vil gi en solid forst√•else av hvordan og hvorfor vi anvender sannsynlighetsmodeller og formler.

# Stokastiske Fors√∏k

Et stokastisk fors√∏k er et eksperiment der utfallet ikke kan forutsies med sikkerhet p√• forh√•nd, selv om alle mulige utfall er kjent. Denne typen fors√∏k er grunnleggende i sannsynlighetsteori og danner grunnlaget for statistisk inferens og beslutningsteori.

## Egenskaper ved Stokastiske Fors√∏k

De viktigste egenskapene til stokastiske fors√∏k inkluderer:

-   **Usikkerhet**: Utfallet av fors√∏ket er usikkert og kan ikke bestemmes p√• forh√•nd.

-   **Mengde av Utfall**: Alle mulige utfall av fors√∏ket er kjent f√∏r eksperimentet utf√∏res.

-   **Repetisjon**: Fors√∏ket kan gjentas under identiske forhold, og utfallene kan v√¶re forskjellige ved hver gjentakelse.

√Ö kaste en terning eller en mynt er et godt eksempel. Vi vet f√∏r vi kaster en mynt at (gitt at terningen er rettferdig) at er 50/50 √• f√• en mynt eller kron.

## Eksempler p√• Stokastiske Fors√∏k

For √• illustrere konseptet, her er noen klassiske eksempler p√• stokastiske fors√∏k:

1.  **Terningkast**:

    -   **Fors√∏k**: Kaste en seksidig terning.

    -   **Mulige Utfall**: Tallene 1, 2, 3, 4, 5, og 6.

    -   **Usikkerhet**: Hvilket tall som vises er usikkert til terningen har landet.

2.  **Korttrekking**:

    -   **Fors√∏k**: Trekke et kort fra en standard kortstokk p√• 52 kort.

    -   **Mulige Utfall**: Ethvert av de 52 kortene.

    -   **Usikkerhet**: Hvilket kort som trekkes er ikke kjent f√∏r kortet vises.

3.  **Myntkast**:

    -   **Fors√∏k**: Kaste en mynt.

    -   **Mulige Utfall**: Kron eller mynt.

    -   **Usikkerhet**: Om mynten viser kron eller mynt er ikke kjent f√∏r den har landet.

4.  M√•ling av Ventetid for en Handelsordre

    -   **Fors√∏k:** M√•l tiden det tar fra en handelsordre blir plassert til den blir utf√∏rt i aksjemarkedet.

    -   **Usikkerhet:** Selv om handelsordren er plassert umiddelbart, er det mange faktorer som p√•virker n√∏yaktig n√•r ordren blir utf√∏rt. Disse inkluderer ordretype, markedslikviditet, volatilitet, og handelsvolum fra andre markedsakt√∏rer.

    -   **Utfall:** Tiden det tar for at en ordre blir utf√∏rt er et kontinuerlig tall, og kan variere betydelig avhengig av markedets tilstand. For eksempel, kan en ordre bli utf√∏rt i alt fra noen f√• millisekunder til flere minutter.

Legg merke til at tre f√∏rset har enkle tellelige utfall, mens det siste har ikke dette.

Et stokasist fors√∏lk denoteres ofte med *X*

## Kontinuerlig og diskret

I sannsynlighetsteori skilles det mellom diskrete og kontinuerlige stokastiske fors√∏k, som hver har unike egenskaper og krever forskjellige matematiske tiln√¶rminger. **Diskrete fors√∏k** resulterer i utfall som kan telles og er ofte representert ved hele tall, som antall ganger en terning viser seks. Disse utfallene kan h√•ndteres med punktsannsynligheter hvor sannsynligheten for ethvert spesifikt utfall kan beregnes direkte.

**Kontinuerlige fors√∏k**, derimot, produserer utfall som er del av et kontinuum, som tiden det tar for en kjemisk reaksjon √• fullf√∏re eller prisen p√• en aksje p√• et gitt tidspunkt. I disse tilfellene blir punktsannsynligheten for ethvert spesifikt utfall null, fordi det er uendelig mange mulige utfall. Derfor bruker man sannsynlighetstetthetsfunksjoner (PDF) for √• beskrive sannsynlighetsfordelingene i kontinuerlige fors√∏k. Dette skillet er viktig fordi det p√•virker hvordan sannsynligheter beregnes og tolkes i forskjellige situasjoner, og det understreker behovet for ulike analytiske teknikker tilpasset naturen av dataene man jobber med.

## Betydningen av Stokastiske Fors√∏k

Stokastiske fors√∏k er sentrale i mange felter innen vitenskap og ingeni√∏rfag hvor beslutninger m√• tas under usikkerhet. De gir et rammeverk for √• analysere sannsynlighet og for √• utvikle matematiske modeller som kan forutsi sannsynligheten for forskjellige utfall basert p√• eksisterende data.

Gjennom √• forst√• og modellere stokastiske fors√∏k, kan forskere og beslutningstakere bedre navigere i usikkerhet og gj√∏re mer informerte valg, noe som er essensielt i alt fra finans og √∏konomi til vitenskapelig forskning og teknologisk utvikling.

Her kan vi ogs√• bruke set.seed() som tidligere, og da f√•r vi samme uavhengi av hvem som kj√∏rer koden.

## Grunnleggende Konsepter

Sannsynlighetsregning begynner med noen grunnleggende konsepter:

1.  **Sannsynlighetsrom**: Et sannsynlighetsrom er den samlede mengden av alle mulige utfall for et eksperiment. For eksempel, ved kast av en terning, er sannsynlighetsrommet {1, 2, 3, 4, 5, 6}.

    1.  Vi skriver sansynlighetsrom som *S*

        1.  Sannsynlighetsrommet for en terining: $S={1,2,3,4,5,6}$.

        2.  Sannsynlighetsrommet for et kort fra en kort stokk: $S={K2, K3, K4,..., H12, H13, H14}$.

        3.  Sannsynlighetsrommet for en MYNT: $S={Kron, Mynt}$.

2.  **Hendelser**: En hendelse er en hvilken som helst delmengde av sannsynlighetsrommet. For eksempel, √• f√• et partall ved kast av terning er en hendelse som kan skrives som {2, 4, 6}.

    1.  Vi skriver ofte hendelsesrom som *A* eller *B* men vi kan bruker andre

        1.  For en terning √• f√•:

            1.  Et par tall $A={2,4,6}$.

            2.  Et oddetall $B={1,3,5}$.

            3.  Med et ut som √• f√• 3'er p√• en terning $C={3}$.

        2.  For en mynt

            1.  F√• en mynt $A={Mynt}$.

3.  **Sannsynlighet**: Sannsynligheten for en hendelse $A$ er et m√•l p√• hvor sannsynlig det er at $A$ skjer, og beregnes som:

$$P(A) = \frac{\text{Antall gunstige utfall}}{\text{Totalt antall utfall}}=\frac{\text{g}}{\text{m}}$$

For eksempel, sannsynligheten for √• f√• en 3-er ved kast av en terning er: $$P(3)= \frac{1}{6}=0.166666.$$

Hvor er dette korrekt? Vell det er kun ett uftall som gir oss en 3'eer mens vi kan f√•r 6 forskjellige utfall p√• en terning.

En viktig sannsynlighets regeler er at sannsynligheten av alle utfall er 1, eller 100%

$P(S)=1$

Hva er sannsynligheten for √• f√• en en'er p√• en terning. Det er 6 totale ufall og kun et gunstig vi er interesert i.

```{r}
1/6
```

## Statistik notasjon

N√•r vi skal gj√∏re dette mer gjenerelt og i tr√• med statistik notasjon skriver vi ofte f√∏lgene.

*X* er en stokasisk prossess av en 6'er terning.

Hva er sannsynligheten av √• f√• 3 p√• terningen?

$P(X=3)=\frac{1}{6}=0.166666.$

Hva st√•r her P er sannsynligheten for at X tar verdien 3. Hva med at vi f√•r 3 eller mindre p√• terningen?

$P(X‚â§3)=\frac{3}{6}=0.5.$

Vi kaller $P(X=3)$ en punkt sannsynlighet siden den kalkuerer et punkt. Mens $P(X‚â§3)$ kalles en kumulativ sannsynlighet.

### Punkt Sannsynlighet

Punktsannsynlighet refererer til sannsynligheten for at en stokastisk variabel $X$ antar en spesifikk verdi. I en diskret sannsynlighetsfordeling, hvor utfallene er klart definerte og tellelige, kan hver utfall tildeles en spesifikk sannsynlighet. For eksempel, i en terningkast, er punktsannsynligheten for √• f√• en femmer $P(X=5)= \frac{1}{6}$. I kontinuerlige fordelinger er punktsannsynligheten for enhver spesifikk verdi teknisk sett null, siden det er uendelig mange mulige utfall.

Hva er sannsynligheten av √• kaste en ikke rettferdig mynt. La oss si at det er kun 0.3 sjanser for suksess (alts√• mynt). Hvis vi kaster 10 mynter, hva er sannsynligheten √• f√• 4 mynter? $P(X=4)$

```{r}
# Antall fors√∏k og sannsynlighet for suksess
n <- 10
p <- 0.3

# Mulige utfall
x_values <- 0:n

# Sannsynligheter for hvert utfall
probabilities <- dbinom(x_values, size=n, prob=p)

# Plotte sannsynlighetsfordelingen
plot(x_values, probabilities, type="h", lwd=10, col="blue", main="Probability Mass Function of a Binomial Distribution", xlab="Number of Successes", ylab="Probability")

# Farge den fjerde kolonnen r√∏d (index 4 fordi R indexer starter med 1)
lines(x_values[5], probabilities[5], type="h", lwd=10, col="red")

```

For tenk deg at jeg ser p√• h√∏yden av den norske befolkningen hva er sannsynligheten at jeg finner en person som er n√∏yakting 153.9345 cm h√∏y? $P(X=153.9345)=0$. Den sannsynligheten er null. Men √• finne noen mellom 153 til 154 er mulig.

### Kumulativ Sannsynlighet

Kumulativ sannsynlighet, derimot, er sannsynligheten for at en stokastisk variabel $X$ vil ha en verdi mindre enn eller lik en gitt verdi. Denne sannsynligheten uttrykkes gjennom kumulative fordelingsfunksjoner (CDF), som gir sannsynligheten $P(X‚â§x)$ for enhver verdi $x$. For en diskret variabel, summes sannsynlighetene for alle utfall opp til og inkludert xxx. For kontinuerlige variabler, beregnes den kumulative sannsynligheten som arealet under sannsynlighetstetthetsfunksjonen (PDF) fra det laveste punktet i fordelingen opp til $x$.

Hva er sannsynligheten av √• kaste en ikke rettferdig mynt. La oss si at det er kun 0.3 sjanser for suksess (alts√• mynt). Hvis vi kaster 10 mynter, hva er sannsynligheten √• f√• 4 mynter eller mindre? $P(X‚â§4)$

```{r}
# Antall fors√∏k og sannsynlighet for suksess
n <- 10
p <- 0.3

# Mulige utfall
x_values <- 0:n

# Sannsynligheter for hvert utfall
probabilities <- dbinom(x_values, size=n, prob=p)

# Opprette en fargevektor hvor de f√∏rste fem kolonnene (0 til 4) er r√∏de, resten bl√•
colors <- rep("blue", length(x_values))
colors[1:5] <- "red"  # Farge indekser 1 til 5 r√∏de (0 til 4 i vanlig 0-basert indeksering)

# Plotte sannsynlighetsfordelingen
plot(x_values, probabilities, type="h", lwd=10, col=colors, main="Probability Mass Function of a Binomial Distribution", xlab="Number of Successes", ylab="Probability")

```

#### Betydningen av Disse Konseptene

Forst√•elsen av punkt og kumulativ sannsynlighet har direkte praktisk betydning:

-   **Diskret Analyse:** I praktiske situasjoner hvor utfallene er diskrete og avgrensede, som terningkast eller kortspill, er det ofte n√∏dvendig √• kjenne b√•de punkt- og kumulative sannsynligheter for √• lage strategier eller forutsigelser.

    -   I √∏konomi er det ofte binomisk eller ordinal niv√• som er diskret.

-   **Kontinuerlig Analyse:** I situasjoner med kontinuerlige m√•linger, som tid, lengde, eller temperatur, er kumulative sannsynligheter viktige for √• forst√• sannsynlighetsfordelingen og for √• beregne sannsynligheter for intervaller av utfall.

    -   I √∏konomi er dette en vanlig type kategori.

√Ö skille mellom disse typer sannsynligheter bidrar til mer presis statistisk analyse og bedre beslutningstaking, ved at man klarer √• forst√• og beregne sannsynligheter for komplekse fenomener i en rekke ulike fagfelt.

## Oppgave:

Hva er sannsynligheten p√• en 6'er ternign for √• f√•r:

-   Et partall

    -   A = {2,4,6}

    -   P(X=A)=?

-   str√∏rre enn 4

    -   P(X\>4)=?

-   sannsynligheten av 1 eller 2 p√• terningen

    -   P(X=\<2)=

```{r}



```

## Simmulering av utfall

La oss raskt ta for oss simmulering av utfall. Hvis vi n√• ber r om √• rulle 10 000 gang en terning hva er sannsynligheten for √• f√• en 3'er?

```{r}
# setter en seed
set.seed(42)

# antall kast
n = 10000

# replikerer 10 000 ganger en terning
terning <- tibble(kast = replicate(n,
                     # trekker fra en menge med 1 til 6
                     sample(1:6,1, replace=TRUE)
                     )
)

# tester s√• hvor mange som er lik 3
terning %>%
  summarise(Antall_3ere = sum(kast ==3), Gjennomsnitt_3er = mean(kast ==3) )

ggplot(terning , aes(x=kast)) +
  geom_bar()

```

S√• deler vi p√• antall kast:

```{r}
sum(terning == 3)/n
```

Og vi finner nesten n√∏yaktig den korrekt sannsyneligheten... det er nesten litt for n√¶rt.

Her er det kun fantasien som setter genser. Hva med hvis vi kaster to terninger og registeret kun h√∏yeste verdi. Hva er sannynligheten da for √• f√• 3?

```{r}
# setter en seed
set.seed(42)

# antall kast
n = 10000

# replikerer 10 000 ganger en terning
terning <- tibble(kast = replicate(n,
                                   # renger maksen av to kast
                                   max(
                                      # trekker fra en menge med 1 til 6
                                    sample(1:6,2, replace=TRUE)
                                   )
                    
                     )
)

# tester s√• hvor mange som er lik 3
terning %>%
  summarise(Antall_3ere = sum(kast ==3), Gjennomsnitt_3er = mean(kast ==3) )

ggplot(terning , aes(x=kast)) +
  geom_bar()

```

**Oppgave:**

Simmuler sannsynligen, rull 10'000 og finn ut hva er sannsynligheten p√• en 6'er ternign for √• f√•r:

-   Et partall

-   str√∏rre enn 4

-   sannsynligheten av 1 eller 5 p√• terningen

Simmuler sannsynligen, rull 10'000 og finn ut hva er sannsynligheten p√• to 6'er ternign for √• f√•r:

-   Summen av de to t√¶rningene er 10?

-   Summen er mindre eller lik 6

-   Tegn ogs√• fordelingen, alts√• resultat av summen av disse terningene.

## Forventningsverdi

Forventningsverdi, ofte referert til som den forventede verdien eller det matematiske h√•pet, er et sentralt begrep i sannsynlighetsteori og statistikk. Det representerer det gjennomsnittlige utfallet man kan forvente hvis et eksperiment med tilfeldige utfall gjentas mange ganger. Forventningsverdien er et vektet gjennomsnitt av alle mulige utfall, hvor vektingen reflekterer sannsynligheten for hvert utfall.

### Formel

Forventningsverdien til en diskret stokastisk variabel (X) med mulige verdier (x_1, x_2, ..., x_n) og sannsynligheter (p_1, p_2, ..., p_n) er gitt ved formelen: $E(X) = x_1 \cdot p_1 + x_2 \cdot p_2 + ... + x_n \cdot p_n $

### Eksempler p√• Beregning

1.  **Diskret Eksempel - Terningkast**:
    -   Anta at (X) er resultatet av et terningkast. Hver side av terningen har lik sannsynlighet ( $\frac{1}{6}$ ).
    -   Forventningsverdien av (X) blir da: $E(X) = 1 \cdot \frac{1}{6} + 2 \cdot \frac{1}{6} + 3 \cdot \frac{1}{6} + 4 \cdot \frac{1}{6} + 5 \cdot \frac{1}{6} + 6 \cdot \frac{1}{6} = 3.5 $
2.  **Kontinuerlig Eksempel - Normalfordeling**:
    -   Anta at (X) er en normalfordelt variabel med gjennomsnitt ( \mu ) og standardavvik ( \sigma ).
    -   For en normalfordelt variabel er forventningsverdien ( E(X) = \mu ).

### Anvendelser

Forventningsverdi er en fundamental id√© i mange felt som √∏konomi, ingeni√∏rvitenskap, forsikring, og mer. Det hjelper beslutningstakere med √• evaluere risiko, formulere strategier og gj√∏re kostnadsvurderinger basert p√• sannsynlige utfall.

### Simmulering

For √• demonstrere hvordan forventningsverdien virker i praksis, kan vi utf√∏re en simulering av flere terningkast i R. Dette vil hjelpe oss √• visualisere hvordan gjennomsnittet av utfallene n√¶rmer seg forventningsverdien etter hvert som antall kast √∏ker.

Vi vil bruke R til √• simulere utfallet av √• kaste en terning mange ganger. Deretter vil vi beregne gjennomsnittet av utfallene og plotte dette for √• se hvordan det konvergerer mot forventningsverdien p√• 3.5. Vi setter en seed slik at vi f√•r likt resultat. Vi kaster treningen 2000 gang. S√• regner vi ut gjennomsnittet etter hvert kast.

```{r}
set.seed(123)

#Lager en datafram
terning <- data.frame(
  #Nummerere kasten fra 1 til 2000
  kast = 1:2000, 
  # kaster 2000 terninger
  terning = sample(1:6, 2000, replace = TRUE))

terning <- terning %>%
  # Summerer opp terning kastene
  mutate(terning_sum = cumsum(terning)) %>%
  # deler p√• antall kast for √• f√• gjennomsnittet
  mutate(gjennomsnitt = terning_sum / kast)
  
# Plotter resultatet
ggplot(terning, aes(x = kast, y = gjennomsnitt )) +
  geom_line() +
  geom_hline(
    aes(yintercept = 3.5),
    color = "red", linetype = "dashed", size =1  )

```

Vi ser at gjennomsnittet tiln√¶rmer seg det vi forventer av √• kaste mange terninger.

### Oppsummering

Forventningsverdi er et kraftig verkt√∏y i statistikk som gir et m√•l p√• det "sentrale" utfallet av et stokastisk fors√∏k. Ved √• forst√• og beregne forventningsverdier kan enkeltindivider og organisasjoner bedre h√•ndtere og navigere i risikoer og usikkerheter i beslutningsprosesser.

## Grunnleggende Sannsynlighetslover

I sannsynlighetsteori er det to fundamentale regler som ofte anvendes for √• beregne sannsynligheter: addisjonsregelen og multiplikasjonsregelen. Disse reglene er kritiske for √• forst√• hvordan sannsynligheter fungerer i praksis, og vil hjelpe oss √• bedre forst√• distribusjonene vi vil utforske senere i dette kapitlet.

### Addisjonsregelen

Addisjonsregelen sier at sannsynligheten for at minst √©n av to hendelser inntreffer, er summen av sannsynlighetene for hver hendelse, minus sannsynligheten for at begge hendelsene inntreffer samtidig.

### Multiplikasjonsregelen

Multiplikasjonsregelen sier at sannsynligheten for at to uavhengige hendelser begge inntreffer, er produktet av sannsynligheten for hver enkelt hendelse.

# Fordelinger i Sannsynlighetsteori

Her vil dekke grunnleggende og avanserte sannsynlighetsfordelinger, deres egenskaper, og hvordan de kan simuleres og visualiseres i R. Sannsynlighetsfordelinger er essensielle i statistikk for √• modellere og forst√• variabiliteten i ulike typer data. Vi vil utforske b√•de diskrete og kontinuerlige fordelinger.

## Binomisk Fordeling

### Teori

Binomisk fordeling brukes for √• modellere antall suksesser i en serie av uavhengige fors√∏k, der hvert fors√∏k har to mulige utfall - suksess eller fiasko, med samme sannsynlighet for suksess i hvert fors√∏k.

### R Simulering

Vi teller opp antall sykkess, n√•r vi kaster 1 mynt 1000 ganger.

```{r}
# Antall fors√∏k og sannsynlighet for suksess
n <- 1
p <- 0.5

# Simulere en binomisk fordeling
set.seed(123)
# Vi kaster 10 mynter 1000 gang, men sannsynlighet 50/50
sim_binom <- tibble(mynt = rbinom(1000, size = n, prob = p))

# Visualisere fordelingen
ggplot(sim_binom, aes(mynt))+
  geom_bar()

```

Vi teller opp antall sykkess, n√•r vi kaster 3 mynt 1000 ganger.

```{r}
# Antall fors√∏k og sannsynlighet for suksess
n <- 3
p <- 0.5

# Simulere en binomisk fordeling
set.seed(123)
# Vi kaster 10 mynter 1000 gang, men sannsynlighet 50/50
sim_binom <- tibble(mynt = rbinom(1000, size = n, prob = p))

# Visualisere fordelingen
ggplot(sim_binom, aes(mynt))+
  geom_bar()

```

Hva skjer? Vell utfallsrommet er: ùëÜ={ùêæùêæùêæ,ùêæùêæùëÄ,ùêæùëÄùêæ,ùëÄùêæùêæ,ùêæùëÄùëÄ,ùëÄùêæùëÄ,ùëÄùëÄùêæ,ùëÄùëÄùëÄ} Hvor mange m√•ter eller kombinasjoner kan vi trekke 0 mynt, det er kun 1 av 8, hva med 1 mynt? Det 3 av 8 osv.

Vi teller opp antall sykkess, n√•r vi kaster 10 mynt 1000 ganger.

```{r}
# Antall fors√∏k og sannsynlighet for suksess
n <- 10
p <- 0.5

# Simulere en binomisk fordeling
set.seed(123)
# Vi kaster 10 mynter 1000 gang, men sannsynlighet 50/50
sim_binom <- tibble(mynt = rbinom(1000, size = n, prob = p))

# Visualisere fordelingen
ggplot(sim_binom, aes(mynt))+
  geom_bar()

```

Vi kan ogs√• bruke funksjoner fra mosaic pakken til √• gi oss helte n√∏yaktige bergenger. Men da m√• vi oppgi om vi skal ha punkt sannsynligheter eller kumulativ sansynlighet. La oss ta for oss disse to tilfellen. I kallen en stokastisk prosess *X* √• kaste 10 mynter og telle antall mynt vi f√•r. Alts√• mynt er en suksess. Hva er sannsynliheten for √• f√• n√∏ykaktig 4 mynt? og hva er sannsynliheten for √• f√• 6 mynt eller mindre?

Hva er sannsynlighente for 4 mynt? $P(X=4)=?$ Alts√• punktsannsynligheten

```{r}

# koden for √• finne punkt sannsynliheten  4 er antall sukesser vi ser etter
dbinom(4 , 
       # Antall mynter vi kaster er 10
       size = 10, 
       # Sannsynligheten for sukkess er 50/50 eller 0.5
       prob = 0.5)


```

Hva er sannsynligheten for 6 eller mindre mynt? $P(X=6)=?$ Alts√• kumullativ sannsynlighet. 

```{r}
# koden for √• finne kumulativ sannsynliheten 6 er antall sukesser vi ser etter, eller mindre
xpbinom(6 , 
       # Antall mynter vi kaster er 10
       size = 10, 
       # Sannsynligheten for sukkess er 50/50 eller 0.5
       prob = 0.5)
```


#### Oppgave 

La oss n√• si at det er historisk 10% av studentene som ikke best√•r eksamen i Sok-2009, og dette er tilfelding, av de 23 som tar Sok-2009 hva er sjanse for at deter 5 eller mindre som ikke best√•r? $P(X=<5)=?$

```{r}


```



## Normalfordeling

### Teori

Normalfordelingen er en av de mest kjente fordelingene i statistikk og er grunnlaget for mange statistiske tester. Den er symmetrisk rundt sitt middelverdi og beskriver mange naturlige fenomener, som m√•lefeil og biologiske m√•linger.

Vi har sett at n√•r vi sampler data, hvis vi trekker nok observasjoner s√• blir v√•rt gjennomsnitt fordelt normalt rundt det sanne gjennomsnittet. Normal fordeling er noe vi bruker MYE i statisikk. 



### R Simulering

```{r}
# Parametere for normalfordeling
# gir oss et gjennomsntitt til en fordeling
mu <- 0
# gir oss standaravviket til en fordeling 
sigma <- 1

# Simulere en normalfordeling
set.seed(123)
sim_norm <- rnorm(10000, mean = mu, sd = sigma)

# Visualisere fordelingen
hist(sim_norm, breaks = 30, main = "Histogram of Normal Distribution", xlab = "Values", col = "green")
```

Dette blir litt vell abstrakt, la oss heller tenke oss et mer konkret eksempel. La oss se p√• distribusjon av h√∏yder i NHANES survey p√• de over 20 √•r. Og berenger gjennomsnitt og standardavvik p√• h√∏yde.

```{r}

NHANES %>%
  filter(Age >= 20 ) %>%
  ggplot(aes(x=Height)) +
  geom_histogram()

NHANES %>%
  filter(Age >= 20 ) %>%
  summarise(Gjen_hoy = mean(Height, na.rm = TRUE ), Sd_hoy = sd(Height, na.rm = TRUE))

```


Hvis vi n√• antar at denne fordleingen er normalfordelg (den er ikke langt unna), med gjennomsnitt p√• 168.79 og standardavvik p√• 10.09. Hvis vi trekker en tilfeldig person fra denne gruppen, hva er sannsynnligheten at denne personen er under 168.79? Eller $P(X<168.79)=?$

```{r}
# Bruker mosaic pakken
mu = 168.79
sd = 10.09 

# finner sannynligheten at av en person er under 168.79
xpnorm(168.79,
       # setter inn forventingsverdi
       mu,
       # setter inn standardavvik
       sd)

```

Vi f√•r 50%. Alts√• det er 50% sjanse at denne personer er lavere. 

Hva er skjanse for at vi trekker en person som er innenfor et standardavvik av gjennomsnittet? $P(158.7<X<178.88)=?$

```{r}

# Bruker mosaic pakken
mu = 168.79
sd = 10.09 

# finner sannynligheten at av en person er under 168.79
xpnorm(c(158.7, 178.88),
       # setter inn forventingsverdi
       mu,
       # setter inn standardavvik
       sd)

```

#### Oppgave

For fordelingen over finn sannsynliheten for:

En tilfeldig personer er under 160
En tifelding person er over 180
En tilfeldig person er mellom 160 og 180

```{r}


```


### Gjenerelt om normal fordellingen

Med normalfordeling har det vi ofte kaller 68, 95, 99 regelen. Denne sier at n√•r vi ser p√• fordelingen s√• er 68% av fordelingen innen for et standardavvik, 95% av fordelingen er innen for to standardavvik og 99% av fordelingen er innen for tre standaradavvik


#### Normal fordeling 68%
```{r}
# Bruker mosaic pakken
mu = 0
sd = 1 

# finner sannynligheten at av pluss minus et standardavvik
xpnorm(c(-1, 1),
       # setter inn forventingsverdi
       mu,
       # setter inn standardavvik
       sd)
```

#### Normal fordeling 95%
```{r}
# Bruker mosaic pakken
mu = 0
sd = 1 

# finner sannynligheten at av pluss minus to standardavvik
xpnorm(c(-2, 2),
       # setter inn forventingsverdi
       mu,
       # setter inn standardavvik
       sd)
```


#### Normal fordeling 99%
```{r}
# Bruker mosaic pakken
mu = 0
sd = 1 

# finner sannynligheten at av pluss minus tre standardavvik
xpnorm(c(-3, 3),
       # setter inn forventingsverdi
       mu,
       # setter inn standardavvik
       sd)
```


## Poissonfordeling

### Teori

Poissonfordelingen er nyttig for √• modellere antall ganger en hendelse skjer i en fast tids- eller romenhet under forutsetningen om at disse hendelsene skjer med en konstant rate og uavhengig av hverandre.

### R Simulering

```{r}
# Rate parameter for Poissonfordeling
lambda <- 3

# Simulere en Poissonfordeling
set.seed(123)
sim_poisson <- rpois(1000, lambda)

# Visualisere fordelingen
hist(sim_poisson, breaks = max(sim_poisson) - min(sim_poisson) + 1, main = "Histogram of Poisson Distribution", xlab = "Number of Events", col = "red")
```




## Uniform Fordeling

### Teori

Uniform fordeling betyr at alle utfall i et intervall er like sannsynlige. Dette er nyttig for √• modellere fenomener hvor det ikke er noen naturlig preferanse for noen verdier over andre innenfor et spesifikt omr√•de.

### R Simulering

```{r}
# Grenser for uniform fordeling
min_val <- 0
max_val <- 1

# Simulere en uniform fordeling
set.seed(123)
sim_uniform <- runif(1000, min = min_val, max = max_val)

# Visualisere fordelingen
hist(sim_uniform, breaks = 30, main = "Histogram of Uniform Distribution", xlab = "Values", col = "orange")
```

## Oppsummering

Dette kapittelet har introdusert noen av de mest brukte sannsynlighetsfordelingene i statistikk. Ved √• forst√• disse fordelingene og kunne simulere dem i R, er du bedre rustet til √• analysere reelle data og forst√• underliggende m√∏nstre. Disse fordelingene danner grunnlaget for statistisk inferens og er avgj√∏rende for presis dataanalyse.
